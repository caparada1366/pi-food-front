{"ast":null,"code":"const initialState = {\n  recipes: [],\n  recipesAux: [],\n  diets: [],\n  pagActual: 1\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case 'GET_RECIPES':\n      return {\n        ...state,\n        recipes: payload,\n        recipesAux: payload\n      };\n    case 'GET_DIETS':\n      return {\n        ...state,\n        diets: payload\n      };\n    case 'FILTRO_ORIGEN':\n      var arrayFiltroOrigen = [];\n      if (payload === 'DB') {\n        arrayFiltroOrigen = state.recipes.filter(r => {\n          return isNaN(r.id);\n        });\n      }\n      if (payload === 'API') {\n        arrayFiltroOrigen = state.recipes.filter(r => {\n          return !isNaN(r.id);\n        });\n      }\n      if (payload === 'Todos') {\n        arrayFiltroOrigen = state.recipesAux;\n      }\n      return {\n        ...state,\n        recipes: arrayFiltroOrigen\n      };\n    case 'FILTRO_DIETAS':\n      var arrayDietas = payload;\n      var filtroDietas = [];\n      arrayDietas.forEach(dieta => {\n        state.recipes.forEach(receta => {\n          var _receta$diets;\n          if ((_receta$diets = receta.diets) !== null && _receta$diets !== void 0 && _receta$diets.includes(dieta) && !filtroDietas.includes(receta)) {\n            filtroDietas.push(receta);\n          }\n        });\n      });\n      return {\n        ...state,\n        recipes: filtroDietas\n      };\n    case 'QUITAR_FILTROS':\n      return {\n        ...state,\n        recipes: state.recipesAux\n      };\n    case 'ORDEN_ALFA':\n      var ordenados = state.recipes;\n      if (payload === 'A-Z') {\n        ordenados = ordenados.sort((a, b) => {\n          if (a.name < b.name) return -1;\n          if (a.name > b.name) return 1;\n          return 0;\n        });\n      }\n      if (payload === 'Z-A') {\n        ordenados = ordenados.sort((a, b) => {\n          if (a.name < b.name) return 1;\n          if (a.name > b.name) return -1;\n          return 0;\n        });\n      }\n      return {\n        ...state,\n        recipes: ordenados\n      };\n    case 'ORDEN_HS':\n      var ordenadosHS = state.recipes;\n      if (payload === 'Ascendente') {\n        ordenadosHS = ordenadosHS.sort((a, b) => a.health_Score - b.health_Score);\n      }\n      if (payload === 'Descendente') {\n        ordenadosHS = ordenadosHS.sort((a, b) => b.health_Score - a.health_Score);\n      }\n      return {\n        ...state,\n        recipes: ordenadosHS\n      };\n    case 'PREV_PAGE':\n      return {\n        ...state,\n        pagActual: state.pagActual - 1\n      };\n    case 'NEXT_PAGE':\n      return {\n        ...state,\n        pagActual: state.pagActual + 1\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","recipes","recipesAux","diets","pagActual","rootReducer","state","arguments","length","undefined","type","payload","arrayFiltroOrigen","filter","r","isNaN","id","arrayDietas","filtroDietas","forEach","dieta","receta","_receta$diets","includes","push","ordenados","sort","a","b","name","ordenadosHS","health_Score"],"sources":["C:/Users/camil/OneDrive/Documentos/Curso Full Stack/PI-Food-main/client/src/Redux/reducer.js"],"sourcesContent":["\r\n\r\nconst initialState ={\r\n    recipes: [],\r\n    recipesAux: [],\r\n    diets: [],\r\n    pagActual: 1\r\n\r\n}\r\n\r\nexport default function rootReducer(state = initialState, {type, payload}){\r\n    switch(type){\r\n        case 'GET_RECIPES':\r\n            return{\r\n                ...state,\r\n                recipes: payload,\r\n                recipesAux: payload\r\n            }\r\n        case 'GET_DIETS':\r\n            return{\r\n                ...state,\r\n                diets: payload\r\n            }\r\n        case 'FILTRO_ORIGEN':\r\n            var arrayFiltroOrigen=[];\r\n            if(payload === 'DB'){\r\n                arrayFiltroOrigen = state.recipes.filter((r)=>{\r\n                     return isNaN(r.id)\r\n                })\r\n            }    \r\n            if(payload === 'API'){\r\n                arrayFiltroOrigen = state.recipes.filter((r)=>{\r\n                    return !(isNaN(r.id))\r\n                })\r\n            }\r\n            if(payload === 'Todos'){\r\n                arrayFiltroOrigen = state.recipesAux;\r\n            }    \r\n            \r\n            return{\r\n                ...state,\r\n                recipes: arrayFiltroOrigen\r\n            }\r\n        case 'FILTRO_DIETAS':\r\n            var arrayDietas = payload;\r\n            var filtroDietas = [];\r\n            arrayDietas.forEach((dieta)=>{\r\n                state.recipes.forEach((receta)=>{\r\n                    if(receta.diets?.includes(dieta) && !filtroDietas.includes(receta)){\r\n                        filtroDietas.push(receta)\r\n                    }\r\n                })\r\n            })\r\n\r\n            return{\r\n                ...state,\r\n                recipes: filtroDietas\r\n            }\r\n        case 'QUITAR_FILTROS':\r\n            return {\r\n                ...state,\r\n                recipes: state.recipesAux\r\n            }\r\n        case 'ORDEN_ALFA':\r\n            var ordenados = state.recipes;\r\n            if(payload === 'A-Z'){\r\n                ordenados = ordenados.sort((a, b)=> {\r\n                    if(a.name < b.name) return -1;\r\n                    if(a.name > b.name) return 1;\r\n                    return 0\r\n                })\r\n            }\r\n            if(payload === 'Z-A'){\r\n                ordenados = ordenados.sort((a, b)=> {\r\n                    if(a.name < b.name) return 1;\r\n                    if(a.name > b.name) return -1;\r\n                    return 0\r\n                })\r\n            }\r\n            return {\r\n                ...state,\r\n                recipes: ordenados\r\n            }\r\n        case 'ORDEN_HS':\r\n            var ordenadosHS = state.recipes;\r\n            if(payload === 'Ascendente'){\r\n                ordenadosHS = ordenadosHS.sort((a, b)=> a.health_Score - b.health_Score)\r\n            }\r\n            if(payload === 'Descendente'){\r\n                ordenadosHS = ordenadosHS.sort((a, b)=> b.health_Score - a.health_Score)\r\n            }\r\n            return {\r\n                ...state,\r\n                recipes: ordenadosHS\r\n            }\r\n        case 'PREV_PAGE':\r\n            return {\r\n                ...state,\r\n                pagActual: state.pagActual-1\r\n            }\r\n        case 'NEXT_PAGE':\r\n            return {\r\n                ...state,\r\n                pagActual: state.pagActual+1\r\n            }\r\n         default: \r\n         return state;   \r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}