{"ast":null,"code":"const initialState = {\n  recipes: [],\n  recipesAux: [],\n  recipesDefault: [],\n  diets: [],\n  pagActual: 1\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  switch (type) {\n    case 'GET_RECIPES':\n      return {\n        ...state,\n        recipes: payload,\n        recipesAux: payload,\n        recipesDefault: payload\n      };\n    case 'GET_DIETS':\n      return {\n        ...state,\n        diets: payload\n      };\n    case 'FILTRO_ORIGEN':\n      var arrayFiltroOrigen = [];\n      if (payload === 'DB') {\n        arrayFiltroOrigen = state.recipesAux.filter(r => {\n          return isNaN(r.id);\n        });\n      }\n      if (payload === 'API') {\n        arrayFiltroOrigen = state.recipesAux.filter(r => {\n          return !isNaN(r.id);\n        });\n      }\n      if (payload === 'Todos') {\n        arrayFiltroOrigen = state.recipesAux;\n      }\n      return {\n        ...state,\n        recipes: arrayFiltroOrigen,\n        pagActual: 1\n      };\n    case 'FILTRO_DIETAS':\n      var arrayDietas = payload;\n      var filtroDietas = [];\n      arrayDietas.forEach(dieta => {\n        state.recipesAux.forEach(receta => {\n          var _receta$diets;\n          if ((_receta$diets = receta.diets) !== null && _receta$diets !== void 0 && _receta$diets.includes(dieta) && !filtroDietas.includes(receta)) {\n            filtroDietas.push(receta);\n          }\n        });\n      });\n      return {\n        ...state,\n        recipes: filtroDietas,\n        recipesAux: filtroDietas,\n        pagActual: 1\n      };\n    case 'QUITAR_FILTROS':\n      var filtradas = state.recipesAux;\n      return {\n        ...state,\n        recipes: filtradas,\n        recipesAux: state.recipesDefault,\n        pagActual: 1\n      };\n    case 'BORRAR_BUSQUEDA':\n      return {\n        ...state,\n        recipes: state.recipesDefault,\n        recipes: state.recipesDefault,\n        pagActual: 1\n      };\n    case 'ORDEN_ALFA':\n      var ordenados = state.recipes;\n      if (payload === 'A-Z') {\n        ordenados = ordenados.sort((a, b) => {\n          if (a.name < b.name) return -1;\n          if (a.name > b.name) return 1;\n          return 0;\n        });\n      }\n      if (payload === 'Z-A') {\n        ordenados = ordenados.sort((a, b) => {\n          if (a.name < b.name) return 1;\n          if (a.name > b.name) return -1;\n          return 0;\n        });\n      }\n      return {\n        ...state,\n        recipes: ordenados,\n        pagActual: 1\n      };\n    case 'ORDEN_HS':\n      var ordenadosHS = state.recipes;\n      if (payload === 'Ascendente') {\n        ordenadosHS = ordenadosHS.sort((a, b) => a.health_Score - b.health_Score);\n      }\n      if (payload === 'Descendente') {\n        ordenadosHS = ordenadosHS.sort((a, b) => b.health_Score - a.health_Score);\n      }\n      return {\n        ...state,\n        recipes: ordenadosHS,\n        pagActual: 1\n      };\n    case 'PREV_PAGE':\n      return {\n        ...state,\n        pagActual: state.pagActual - 1\n      };\n    case 'NEXT_PAGE':\n      return {\n        ...state,\n        pagActual: state.pagActual + 1\n      };\n    case 'IR_PAGE':\n      return {\n        ...state,\n        pagActual: payload\n      };\n    case 'SEARCH_RECIPE':\n      return {\n        ...state,\n        recipes: payload,\n        recipesAux: payload,\n        pagActual: 1\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","recipes","recipesAux","recipesDefault","diets","pagActual","rootReducer","state","arguments","length","undefined","type","payload","arrayFiltroOrigen","filter","r","isNaN","id","arrayDietas","filtroDietas","forEach","dieta","receta","_receta$diets","includes","push","filtradas","ordenados","sort","a","b","name","ordenadosHS","health_Score"],"sources":["C:/Users/camil/OneDrive/Documentos/Curso Full Stack/PI-Food-main/client/src/Redux/reducer.js"],"sourcesContent":["\r\n\r\nconst initialState ={\r\n    recipes: [],\r\n    recipesAux: [],\r\n    recipesDefault: [],\r\n    diets: [],\r\n    pagActual: 1\r\n\r\n}\r\n\r\nexport default function rootReducer(state = initialState, {type, payload}){\r\n    switch(type){\r\n        case 'GET_RECIPES':\r\n            return{\r\n                ...state,\r\n                recipes: payload,\r\n                recipesAux: payload,\r\n                recipesDefault: payload\r\n            }\r\n        case 'GET_DIETS':\r\n            return{\r\n                ...state,\r\n                diets: payload\r\n            }\r\n        case 'FILTRO_ORIGEN':\r\n            var arrayFiltroOrigen=[];\r\n            if(payload === 'DB'){\r\n                arrayFiltroOrigen = state.recipesAux.filter((r)=>{\r\n                     return isNaN(r.id)\r\n                })\r\n            }    \r\n            if(payload === 'API'){\r\n                arrayFiltroOrigen = state.recipesAux.filter((r)=>{\r\n                    return !(isNaN(r.id))\r\n                })\r\n            }\r\n            if(payload === 'Todos'){\r\n                arrayFiltroOrigen = state.recipesAux;\r\n            }    \r\n            \r\n            return{\r\n                ...state,\r\n                recipes: arrayFiltroOrigen,\r\n                pagActual: 1\r\n            }\r\n        case 'FILTRO_DIETAS':\r\n            var arrayDietas = payload;\r\n            var filtroDietas = [];\r\n            arrayDietas.forEach((dieta)=>{\r\n                state.recipesAux.forEach((receta)=>{\r\n                    if(receta.diets?.includes(dieta) && !filtroDietas.includes(receta)){\r\n                        filtroDietas.push(receta)\r\n                    }\r\n                })\r\n            })\r\n\r\n            return{\r\n                ...state,\r\n                recipes: filtroDietas,\r\n                recipesAux: filtroDietas,\r\n                pagActual: 1\r\n            }\r\n        case 'QUITAR_FILTROS':\r\n            var filtradas = state.recipesAux;\r\n            return {\r\n                ...state,\r\n                recipes: filtradas,\r\n                recipesAux: state.recipesDefault,\r\n                pagActual: 1\r\n            }\r\n        case 'BORRAR_BUSQUEDA':\r\n            return{\r\n                ...state,\r\n                recipes: state.recipesDefault,\r\n                recipes: state.recipesDefault,\r\n                pagActual: 1\r\n            }    \r\n        case 'ORDEN_ALFA':\r\n            var ordenados = state.recipes;\r\n            if(payload === 'A-Z'){\r\n                ordenados = ordenados.sort((a, b)=> {\r\n                    if(a.name < b.name) return -1;\r\n                    if(a.name > b.name) return 1;\r\n                    return 0\r\n                })\r\n            }\r\n            if(payload === 'Z-A'){\r\n                ordenados = ordenados.sort((a, b)=> {\r\n                    if(a.name < b.name) return 1;\r\n                    if(a.name > b.name) return -1;\r\n                    return 0\r\n                })\r\n            }\r\n            return {\r\n                ...state,\r\n                recipes: ordenados,\r\n                pagActual: 1\r\n            }\r\n        case 'ORDEN_HS':\r\n            var ordenadosHS = state.recipes;\r\n            if(payload === 'Ascendente'){\r\n                ordenadosHS = ordenadosHS.sort((a, b)=> a.health_Score - b.health_Score)\r\n            }\r\n            if(payload === 'Descendente'){\r\n                ordenadosHS = ordenadosHS.sort((a, b)=> b.health_Score - a.health_Score)\r\n            }\r\n            return {\r\n                ...state,\r\n                recipes: ordenadosHS,\r\n                pagActual: 1\r\n            }\r\n        case 'PREV_PAGE':\r\n            return {\r\n                ...state,\r\n                pagActual: state.pagActual-1\r\n            }\r\n        case 'NEXT_PAGE':\r\n            return {\r\n                ...state,\r\n                pagActual: state.pagActual+1\r\n            }\r\n        case 'IR_PAGE':\r\n            return {\r\n                ...state,\r\n                pagActual: payload\r\n            }    \r\n        case 'SEARCH_RECIPE':\r\n            return {\r\n                ...state,\r\n                recipes: payload,\r\n                recipesAux: payload,\r\n                pagActual: 1\r\n            }\r\n         default: \r\n         return state;   \r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}